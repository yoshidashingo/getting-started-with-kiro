# Specsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼å®Œå…¨ã‚¬ã‚¤ãƒ‰

## æ¦‚è¦

**Specsï¼ˆã‚¹ãƒšãƒƒã‚¯ï¼‰**ã¯ã€è¤‡é›‘ãªæ©Ÿèƒ½ã‚’ä½“ç³»çš„ã«é–‹ç™ºã™ã‚‹ãŸã‚ã®Kiroã®æ§‹é€ åŒ–ã•ã‚ŒãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã§ã™ã€‚è¦ä»¶å®šç¾©ã€è¨­è¨ˆã€ã‚¿ã‚¹ã‚¯å®Ÿè£…ã®3æ®µéšã‚’çµŒã¦ã€åå¾©çš„ã«æ”¹å–„ã—ãªãŒã‚‰é«˜å“è³ªãªã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã‚’é–‹ç™ºã§ãã¾ã™ã€‚

## Specsã®åŸºæœ¬æ¦‚å¿µ

### ãªãœSpecsã‚’ä½¿ã†ã®ã‹

å¾“æ¥ã®é–‹ç™ºã§ã¯ï¼š
- è¦ä»¶ãŒæ›–æ˜§ãªã¾ã¾å®Ÿè£…ã‚’é–‹å§‹
- è¨­è¨ˆã¨ã‚³ãƒ¼ãƒ‰ãŒä¹–é›¢
- æ‰‹æˆ»ã‚ŠãŒå¤šãç™ºç”Ÿ
- ãƒãƒ¼ãƒ å†…ã§ã®èªè­˜ã®ãšã‚Œ

Specsã‚’ä½¿ã†ã¨ï¼š
- âœ… è¦ä»¶ãŒæ˜ç¢ºã«ãªã£ã¦ã‹ã‚‰å®Ÿè£…é–‹å§‹
- âœ… è¨­è¨ˆã¨ã‚³ãƒ¼ãƒ‰ã®ä¸€è²«æ€§ã‚’ä¿æŒ
- âœ… æ®µéšçš„ãªãƒ¬ãƒ“ãƒ¥ãƒ¼ã§æ‰‹æˆ»ã‚Šã‚’å‰Šæ¸›
- âœ… ãƒãƒ¼ãƒ å…¨ä½“ã§ã®èªè­˜çµ±ä¸€

### Specsã®3æ®µéš

```mermaid
stateDiagram-v2
    [*] --> Requirements : ã‚¢ã‚¤ãƒ‡ã‚¢
    
    Requirements : 1. è¦ä»¶å®šç¾©
    Design : 2. è¨­è¨ˆ
    Tasks : 3. ã‚¿ã‚¹ã‚¯å®Ÿè£…
    
    Requirements --> ReviewReq : è¦ä»¶å®Œæˆ
    ReviewReq --> Requirements : ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
    ReviewReq --> Design : æ˜ç¤ºçš„ãªæ‰¿èª
    
    Design --> ReviewDesign : è¨­è¨ˆå®Œæˆ
    ReviewDesign --> Design : ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
    ReviewDesign --> Tasks : æ˜ç¤ºçš„ãªæ‰¿èª
    
    Tasks --> ReviewTasks : ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆå®Œæˆ
    ReviewTasks --> Tasks : ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
    ReviewTasks --> [*] : æ˜ç¤ºçš„ãªæ‰¿èªãƒ»å®Ÿè£…é–‹å§‹
```

## ç¬¬1æ®µéš: è¦ä»¶å®šç¾©ï¼ˆRequirementsï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 

```
.kiro/specs/{feature_name}/
â””â”€â”€ requirements.md
```

### è¦ä»¶ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ§‹æˆ

```markdown
# Requirements Document

## Introduction
æ©Ÿèƒ½ã®æ¦‚è¦ã¨ç›®çš„

## Requirements

### Requirement 1

**User Story:** 
As a [role], I want [feature], so that [benefit]

#### Acceptance Criteria

1. WHEN [event] THEN [system] SHALL [response]
2. IF [precondition] THEN [system] SHALL [response]
3. WHEN [event] AND [condition] THEN [system] SHALL [response]

### Requirement 2
...
```

### EARSå½¢å¼ã®è©³ç´°

**EARS (Easy Approach to Requirements Syntax)** ã¯ã€è¦ä»¶ã‚’æ˜ç¢ºã«è¨˜è¿°ã™ã‚‹ãŸã‚ã®æ§‹æ–‡ã§ã™ã€‚

#### åŸºæœ¬ãƒ‘ã‚¿ãƒ¼ãƒ³

1. **Ubiquitous (éåœ¨çš„)**
   ```
   The system SHALL [action]
   
   ä¾‹: The system SHALL encrypt all user passwords
   ```

2. **Event-driven (ã‚¤ãƒ™ãƒ³ãƒˆé§†å‹•)**
   ```
   WHEN [trigger] THEN the system SHALL [response]
   
   ä¾‹: WHEN a user clicks the submit button THEN the system SHALL validate the form
   ```

3. **State-driven (çŠ¶æ…‹é§†å‹•)**
   ```
   WHILE [state] the system SHALL [action]
   
   ä¾‹: WHILE the user is logged in the system SHALL display the dashboard
   ```

4. **Optional (ã‚ªãƒ—ã‚·ãƒ§ãƒ³)**
   ```
   WHERE [feature is included] the system SHALL [action]
   
   ä¾‹: WHERE premium subscription is active the system SHALL enable advanced features
   ```

5. **Unwanted (æœ›ã¾ã—ããªã„å‹•ä½œ)**
   ```
   IF [condition] THEN the system SHALL [preventive action]
   
   ä¾‹: IF invalid credentials are provided THEN the system SHALL reject the login attempt
   ```

### è¦ä»¶ä½œæˆã®ãƒ—ãƒ­ã‚»ã‚¹

#### ã‚¹ãƒ†ãƒƒãƒ—1: Kiroã«åˆæœŸè¦ä»¶ã‚’ç”Ÿæˆã•ã›ã‚‹

```
æ–°ã—ã„æ©Ÿèƒ½ã®Specã‚’ä½œæˆã—ãŸã„ã§ã™ã€‚

æ©Ÿèƒ½å: ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã‚·ã‚¹ãƒ†ãƒ 

æ¦‚è¦:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æ©Ÿèƒ½
- ãƒ­ã‚°ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆæ©Ÿèƒ½
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒªã‚»ãƒƒãƒˆæ©Ÿèƒ½
- ã‚»ãƒƒã‚·ãƒ§ãƒ³ç®¡ç†

è¦ä»¶ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚
```

#### ã‚¹ãƒ†ãƒƒãƒ—2: ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯

KiroãŒè¦ä»¶ã‚’ç”Ÿæˆã—ãŸã‚‰ã€ä»¥ä¸‹ã®è¦³ç‚¹ã§ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼š

- [ ] ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã¯æ˜ç¢ºã‹
- [ ] å—ã‘å…¥ã‚ŒåŸºæº–ã¯å…·ä½“çš„ã‹
- [ ] ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãŒè€ƒæ…®ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã‹
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ãŒæ˜è¨˜ã•ã‚Œã¦ã„ã‚‹ã‹

#### ã‚¹ãƒ†ãƒƒãƒ—3: åå¾©çš„ãªæ”¹å–„

```
è¦ä»¶ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã®ç‚¹ã‚’è¿½åŠ ã—ã¦ãã ã•ã„ï¼š

1. 2è¦ç´ èªè¨¼ã®ã‚µãƒãƒ¼ãƒˆ
2. ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ­ã‚°ã‚¤ãƒ³ï¼ˆGoogleã€GitHubï¼‰
3. ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãƒ­ãƒƒã‚¯æ©Ÿèƒ½ï¼ˆä¸æ­£ãƒ­ã‚°ã‚¤ãƒ³è©¦è¡Œæ™‚ï¼‰
4. ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¼·åº¦ã®è¦ä»¶
```

#### ã‚¹ãƒ†ãƒƒãƒ—4: æ˜ç¤ºçš„ãªæ‰¿èª

```
è¦ä»¶ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚æ‰¿èªã—ã¾ã™ã€‚
è¨­è¨ˆãƒ•ã‚§ãƒ¼ã‚ºã«é€²ã‚“ã§ãã ã•ã„ã€‚
```

> âš ï¸ **é‡è¦**: ã€Œã¯ã„ã€ã€Œæ‰¿èªã€ã€Œè‰¯ã„ã§ã™ã€ãªã©ã®æ˜ç¤ºçš„ãªæ‰¿èªãŒå¿…è¦ã§ã™ã€‚æ›–æ˜§ãªè¿”ç­”ã§ã¯æ¬¡ã®æ®µéšã«é€²ã¿ã¾ã›ã‚“ã€‚

### è¦ä»¶å®šç¾©ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### 1. å…·ä½“çš„ã§æ¸¬å®šå¯èƒ½ãªåŸºæº–

```
# æ‚ªã„ä¾‹
The system SHALL be fast

# è‰¯ã„ä¾‹
WHEN a user submits a search query THEN the system SHALL return results within 2 seconds for 95% of requests
```

#### 2. å„ªå…ˆé †ä½ã®æ˜ç¢ºåŒ–

```markdown
### Requirement 1 (Priority: High)
**User Story:** As a user, I want to log in securely...

### Requirement 2 (Priority: Medium)
**User Story:** As a user, I want to reset my password...

### Requirement 3 (Priority: Low)
**User Story:** As a user, I want to customize my profile...
```

#### 3. åˆ¶ç´„æ¡ä»¶ã®æ˜è¨˜

```markdown
## Constraints

### Technical Constraints
- Must support browsers: Chrome 90+, Firefox 88+, Safari 14+
- Must work on mobile devices (iOS 14+, Android 10+)
- Must integrate with existing OAuth2 provider

### Business Constraints
- Development timeline: 6 weeks
- Budget: $50,000
- Team size: 3 developers

### Regulatory Constraints
- Must comply with GDPR
- Must comply with CCPA
- Must implement data retention policies
```

## ç¬¬2æ®µéš: è¨­è¨ˆï¼ˆDesignï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 

```
.kiro/specs/{feature_name}/
â”œâ”€â”€ requirements.md
â””â”€â”€ design.md
```

### è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®æ§‹æˆ

```markdown
# Design Document

## Overview
è¨­è¨ˆã®å…¨ä½“åƒ

## Architecture
ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

## Components and Interfaces
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ

## Data Models
ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«

## Error Handling
ã‚¨ãƒ©ãƒ¼å‡¦ç†æˆ¦ç•¥

## Testing Strategy
ãƒ†ã‚¹ãƒˆæˆ¦ç•¥
```

### è¨­è¨ˆä½œæˆã®ãƒ—ãƒ­ã‚»ã‚¹

#### ã‚¹ãƒ†ãƒƒãƒ—1: Kiroã«è¨­è¨ˆã‚’ç”Ÿæˆã•ã›ã‚‹

```
è¦ä»¶ã«åŸºã¥ã„ã¦è¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯:
- Frontend: React + TypeScript
- Backend: Node.js + Express
- Database: PostgreSQL
- Authentication: JWT

ä»¥ä¸‹ã‚’å«ã‚ã¦ãã ã•ã„:
- ã‚·ã‚¹ãƒ†ãƒ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£å›³
- ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
- APIè¨­è¨ˆ
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è€ƒæ…®äº‹é …
```

#### ã‚¹ãƒ†ãƒƒãƒ—2: è¨­è¨ˆã®ãƒ¬ãƒ“ãƒ¥ãƒ¼

ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ï¼š

- [ ] ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã¯è¦ä»¶ã‚’æº€ãŸã—ã¦ã„ã‚‹ã‹
- [ ] ã‚¹ã‚±ãƒ¼ãƒ©ãƒ“ãƒªãƒ†ã‚£ã¯è€ƒæ…®ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã¯é©åˆ‡ã‹
- [ ] ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã¯æœ€é©ã‹
- [ ] ä¿å®ˆæ€§ã¯é«˜ã„ã‹
- [ ] ãƒ†ã‚¹ãƒˆå¯èƒ½ãªè¨­è¨ˆã‹

#### ã‚¹ãƒ†ãƒƒãƒ—3: è©³ç´°åŒ–ã®ä¾é ¼

```
è¨­è¨ˆã‚’ç¢ºèªã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã®ç‚¹ã‚’è©³ç´°åŒ–ã—ã¦ãã ã•ã„ï¼š

1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆã‚’è¿½åŠ 
2. APIè¨­è¨ˆã«ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®ä»•æ§˜ã‚’è¿½åŠ 
3. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã«å…·ä½“çš„ãªã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰ã‚’å®šç¾©
4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã«CSRFå¯¾ç­–ã‚’è¿½åŠ 
```

#### ã‚¹ãƒ†ãƒƒãƒ—4: æ˜ç¤ºçš„ãªæ‰¿èª

```
è¨­è¨ˆã‚’æ‰¿èªã—ã¾ã™ã€‚
ã‚¿ã‚¹ã‚¯åˆ†å‰²ãƒ•ã‚§ãƒ¼ã‚ºã«é€²ã‚“ã§ãã ã•ã„ã€‚
```

### è¨­è¨ˆã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### 1. å›³è§£ã®æ´»ç”¨

```markdown
## System Architecture

```mermaid
graph TD
    A[Client] --> B[Load Balancer]
    B --> C[Web Server 1]
    B --> D[Web Server 2]
    C --> E[Application Server]
    D --> E
    E --> F[Database Primary]
    E --> G[Database Replica]
    E --> H[Redis Cache]
    E --> I[Message Queue]
```
```

#### 2. å…·ä½“çš„ãªã‚³ãƒ¼ãƒ‰ä¾‹

```markdown
## Authentication Flow

```typescript
interface AuthService {
  login(credentials: LoginCredentials): Promise<AuthToken>;
  logout(token: string): Promise<void>;
  refreshToken(refreshToken: string): Promise<AuthToken>;
  validateToken(token: string): Promise<boolean>;
}

class JWTAuthService implements AuthService {
  async login(credentials: LoginCredentials): Promise<AuthToken> {
    // Implementation
  }
}
```
```

#### 3. ãƒˆãƒ¬ãƒ¼ãƒ‰ã‚ªãƒ•ã®æ˜è¨˜

```markdown
## Design Decisions

### Decision 1: JWT vs Session-based Authentication

**Chosen:** JWT

**Rationale:**
- Pros: Stateless, scalable, works well with microservices
- Cons: Cannot revoke tokens easily, larger payload size

**Alternatives Considered:**
- Session-based: Better for token revocation but requires shared state
- OAuth2: Too complex for current requirements

**Mitigation:**
- Implement short-lived access tokens (15 minutes)
- Use refresh tokens for long-term sessions
- Maintain token blacklist for critical revocations
```

## ç¬¬3æ®µéš: ã‚¿ã‚¹ã‚¯åˆ†å‰²ãƒ»å®Ÿè£…ï¼ˆTasksï¼‰

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 

```
.kiro/specs/{feature_name}/
â”œâ”€â”€ requirements.md
â”œâ”€â”€ design.md
â””â”€â”€ tasks.md
```

### ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã®æ§‹æˆ

```markdown
# Implementation Plan

- [ ] 1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåŸºç›¤ã®æ§‹ç¯‰
  - ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®ä½œæˆ
  - ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
  - åŸºæœ¬è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã®ä½œæˆ
  - _Requirements: 1.1, 1.2_

- [ ] 2. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã®å®Ÿè£…
- [ ] 2.1 User ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ
  - TypeScriptå‹å®šç¾©
  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³é–¢æ•°
  - _Requirements: 2.1, 2.2_

- [ ]* 2.2 ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ä½œæˆ
  - User ãƒ¢ãƒ‡ãƒ«ã®ãƒ†ã‚¹ãƒˆ
  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆ
  - _Requirements: 2.1_

- [ ] 3. èªè¨¼APIã®å®Ÿè£…
...
```

### ã‚¿ã‚¹ã‚¯ã®ç‰¹å¾´

#### éšå±¤æ§‹é€ 

- **æœ€å¤§2ãƒ¬ãƒ™ãƒ«**: è¦ªã‚¿ã‚¹ã‚¯ã¨ã‚µãƒ–ã‚¿ã‚¹ã‚¯
- **ç•ªå·ä»˜ã‘**: 1, 1.1, 1.2, 2, 2.1...
- **ãƒã‚§ãƒƒã‚¯ãƒœãƒƒã‚¯ã‚¹**: é€²æ—ç®¡ç†

#### ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚¿ã‚¹ã‚¯

`*`ãƒãƒ¼ã‚¯ã§ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚¿ã‚¹ã‚¯ã‚’ç¤ºã™ï¼š

```markdown
- [ ] 2. ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã®å®Ÿè£…
- [ ] 2.1 ã‚³ã‚¢å®Ÿè£…
  - å¿…é ˆã®å®Ÿè£…
  - _Requirements: 2.1_

- [ ]* 2.2 ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆ
  - ãƒ†ã‚¹ãƒˆã‚³ãƒ¼ãƒ‰ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  - _Requirements: 2.1_
```

> ğŸ’¡ **ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã‚¿ã‚¹ã‚¯ã®æ‰±ã„**: `*`ãƒãƒ¼ã‚¯ã®ã‚¿ã‚¹ã‚¯ã¯MVPé–‹ç™ºæ™‚ã«ã‚¹ã‚­ãƒƒãƒ—å¯èƒ½ã§ã™ã€‚ã‚³ã‚¢æ©Ÿèƒ½ã«é›†ä¸­ã—ãŸã„å ´åˆã«æ´»ç”¨ã—ã¾ã™ã€‚

#### è¦ä»¶å‚ç…§

å„ã‚¿ã‚¹ã‚¯ã¯è¦ä»¶ã‚’å‚ç…§ï¼š

```markdown
- [ ] 1.1 ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²APIã®å®Ÿè£…
  - POST /api/auth/register ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³å‡¦ç†
  - ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–
  - _Requirements: 1.1, 1.2, 3.1_
```

### ã‚¿ã‚¹ã‚¯ä½œæˆã®ãƒ—ãƒ­ã‚»ã‚¹

#### ã‚¹ãƒ†ãƒƒãƒ—1: Kiroã«ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã‚’ç”Ÿæˆã•ã›ã‚‹

```
è¨­è¨ˆã«åŸºã¥ã„ã¦ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã‚’ä½œæˆã—ã¦ãã ã•ã„ã€‚

è¦ä»¶:
- å„ã‚¿ã‚¹ã‚¯ã¯1-3æ—¥ã§å®Œäº†å¯èƒ½ãªå˜ä½
- ãƒ†ã‚¹ãƒˆé§†å‹•é–‹ç™ºã‚’æ¨å¥¨
- æ®µéšçš„ã«ãƒªãƒªãƒ¼ã‚¹å¯èƒ½ãªæ§‹æˆ
- ä¾å­˜é–¢ä¿‚ã‚’æ˜ç¢ºã«

å„ªå…ˆé †ä½:
1. èªè¨¼æ©Ÿèƒ½ï¼ˆå¿…é ˆï¼‰
2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†ï¼ˆé‡è¦ï¼‰
3. ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ©Ÿèƒ½ï¼ˆä½å„ªå…ˆåº¦ï¼‰
```

#### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚¿ã‚¹ã‚¯ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼

ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ï¼š

- [ ] ã‚¿ã‚¹ã‚¯ã‚µã‚¤ã‚ºã¯é©åˆ‡ã‹
- [ ] ä¾å­˜é–¢ä¿‚ã¯æ˜ç¢ºã‹
- [ ] è¦ä»¶ã‚«ãƒãƒ¬ãƒƒã‚¸ã¯ååˆ†ã‹
- [ ] ãƒ†ã‚¹ãƒˆã‚¿ã‚¹ã‚¯ã¯å«ã¾ã‚Œã¦ã„ã‚‹ã‹
- [ ] æ®µéšçš„ãƒªãƒªãƒ¼ã‚¹ãŒå¯èƒ½ã‹

#### ã‚¹ãƒ†ãƒƒãƒ—3: èª¿æ•´ã®ä¾é ¼

```
ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã‚’ç¢ºèªã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã®èª¿æ•´ã‚’ãŠé¡˜ã„ã—ã¾ã™ï¼š

1. ã‚¿ã‚¹ã‚¯2.1ãŒå¤§ãã™ãã‚‹ã®ã§ã€2ã¤ã«åˆ†å‰²ã—ã¦ãã ã•ã„
2. ã‚¿ã‚¹ã‚¯3ã«ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¦ãã ã•ã„
3. E2Eãƒ†ã‚¹ãƒˆã®ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ ã—ã¦ãã ã•ã„
```

#### ã‚¹ãƒ†ãƒƒãƒ—4: æ˜ç¤ºçš„ãªæ‰¿èª

```
ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã‚’æ‰¿èªã—ã¾ã™ã€‚
å®Ÿè£…ã‚’é–‹å§‹ã§ãã¾ã™ã€‚
```

### ã‚¿ã‚¹ã‚¯å®Ÿè£…ã®æ–¹æ³•

#### æ–¹æ³•1: tasks.mdã‹ã‚‰ç›´æ¥å®Ÿè¡Œ

1. `tasks.md`ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
2. å„ã‚¿ã‚¹ã‚¯ã®æ¨ªã«ã‚ã‚‹ã€ŒStart taskã€ãƒœã‚¿ãƒ³ã‚’ã‚¯ãƒªãƒƒã‚¯
3. KiroãŒ1ã¤ã®ã‚¿ã‚¹ã‚¯ã‚’å®Ÿè£…
4. å®Œäº†å¾Œã€æ¬¡ã®ã‚¿ã‚¹ã‚¯ã¸é€²ã‚€

#### æ–¹æ³•2: ãƒãƒ£ãƒƒãƒˆã§æŒ‡å®š

```
ã‚¿ã‚¹ã‚¯2.1ã€ŒUser ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆã€ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚
```

#### æ–¹æ³•3: è¤‡æ•°ã‚¿ã‚¹ã‚¯ã®ä¸€æ‹¬å®Ÿè¡Œ

```
ã‚¿ã‚¹ã‚¯2ï¼ˆãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã®å®Ÿè£…ï¼‰ã®
å…¨ã‚µãƒ–ã‚¿ã‚¹ã‚¯ã‚’é †ç•ªã«å®Ÿè£…ã—ã¦ãã ã•ã„ã€‚
```

### ã‚¿ã‚¹ã‚¯å®Ÿè£…ã®ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

#### 1. 1ã‚¿ã‚¹ã‚¯ãšã¤å®Ÿè£…

```
# æ¨å¥¨
ã‚¿ã‚¹ã‚¯1ã‚’å®Ÿè£… â†’ ãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ ã‚¿ã‚¹ã‚¯2ã‚’å®Ÿè£… â†’ ãƒ¬ãƒ“ãƒ¥ãƒ¼

# éæ¨å¥¨
ã‚¿ã‚¹ã‚¯1-5ã‚’ä¸€æ°—ã«å®Ÿè£… â†’ ã¾ã¨ã‚ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼
```

#### 2. ãƒ†ã‚¹ãƒˆã‚’å«ã‚ã‚‹

```markdown
- [ ] 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²æ©Ÿèƒ½
- [ ] 2.1 å®Ÿè£…
  - API ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ
  - ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
  - ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ä¿å­˜

- [ ] 2.2 ãƒ†ã‚¹ãƒˆ
  - æ­£å¸¸ç³»ãƒ†ã‚¹ãƒˆ
  - ç•°å¸¸ç³»ãƒ†ã‚¹ãƒˆ
  - ã‚¨ãƒƒã‚¸ã‚±ãƒ¼ã‚¹ãƒ†ã‚¹ãƒˆ
```

#### 3. æ®µéšçš„ãªçµ±åˆ

```markdown
- [ ] 1. åŸºæœ¬æ©Ÿèƒ½ã®å®Ÿè£…
- [ ] 2. å˜ä½“ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
- [ ] 3. çµ±åˆãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
- [ ] 4. ä»–æ©Ÿèƒ½ã¨ã®çµ±åˆ
- [ ] 5. E2Eãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
```

## åå¾©çš„ãªæ”¹å–„ãƒ—ãƒ­ã‚»ã‚¹

### å„æ®µéšã§ã®ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ãƒ«ãƒ¼ãƒ—

```mermaid
graph LR
    A[KiroãŒç”Ÿæˆ] --> B[ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒãƒ¬ãƒ“ãƒ¥ãƒ¼]
    B --> C{æ‰¿èª?}
    C -->|No| D[ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯]
    D --> A
    C -->|Yes| E[æ¬¡ã®æ®µéšã¸]
```

### ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã®ä¾‹

#### è¦ä»¶æ®µéš

```
è¦ä»¶ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã®ç‚¹ã‚’ä¿®æ­£ã—ã¦ãã ã•ã„ï¼š

1. Requirement 2ã®å—ã‘å…¥ã‚ŒåŸºæº–ãŒæ›–æ˜§ã§ã™
   â†’ å…·ä½“çš„ãªæ•°å€¤åŸºæº–ã‚’è¿½åŠ ã—ã¦ãã ã•ã„

2. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶ãŒä¸è¶³ã—ã¦ã„ã¾ã™
   â†’ OWASP Top 10ã¸ã®å¯¾å¿œã‚’è¿½åŠ ã—ã¦ãã ã•ã„

3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¦ä»¶ã‚’è¿½åŠ ã—ã¦ãã ã•ã„
   â†’ ãƒ¬ã‚¹ãƒãƒ³ã‚¹æ™‚é–“ã®ç›®æ¨™å€¤ã‚’è¨­å®šã—ã¦ãã ã•ã„
```

#### è¨­è¨ˆæ®µéš

```
è¨­è¨ˆã‚’ç¢ºèªã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã®ç‚¹ã‚’æ”¹å–„ã—ã¦ãã ã•ã„ï¼š

1. ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ãŒä¸è¶³
   â†’ é »ç¹ã«æ¤œç´¢ã•ã‚Œã‚‹ã‚«ãƒ©ãƒ ã«ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’è¿½åŠ 

2. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒä¸ååˆ†
   â†’ å„ã‚¨ãƒ©ãƒ¼ã‚±ãƒ¼ã‚¹ã®å‡¦ç†æ–¹æ³•ã‚’æ˜ç¢ºåŒ–

3. ã‚­ãƒ£ãƒƒã‚·ãƒ¥æˆ¦ç•¥ã‚’è¿½åŠ 
   â†’ Redisã‚’ä½¿ç”¨ã—ãŸã‚­ãƒ£ãƒƒã‚·ãƒ¥è¨­è¨ˆã‚’è¿½åŠ 
```

#### ã‚¿ã‚¹ã‚¯æ®µéš

```
ã‚¿ã‚¹ã‚¯ãƒªã‚¹ãƒˆã‚’ç¢ºèªã—ã¾ã—ãŸã€‚ä»¥ä¸‹ã‚’èª¿æ•´ã—ã¦ãã ã•ã„ï¼š

1. ã‚¿ã‚¹ã‚¯3ãŒå¤§ãã™ãã¾ã™
   â†’ 3.1, 3.2, 3.3ã«åˆ†å‰²ã—ã¦ãã ã•ã„

2. ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã‚¿ã‚¹ã‚¯ãŒä¸è¶³
   â†’ Dockerè¨­å®šã¨CI/CDè¨­å®šã®ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ 

3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆä½œæˆã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ 
   â†’ API ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¨READMEæ›´æ–°ã®ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ 
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: æ‰¿èªã—ã¦ã‚‚æ¬¡ã«é€²ã¾ãªã„

**åŸå› **: æ›–æ˜§ãªæ‰¿èªè¡¨ç¾

**è§£æ±ºæ–¹æ³•**:
```
# æ›–æ˜§ãªè¡¨ç¾ï¼ˆNGï¼‰
ã€Œã„ã„ã¨æ€ã„ã¾ã™ã€
ã€Œæ¦‚ã­å•é¡Œãªã„ã§ã™ã€
ã€Œé€²ã‚ã¦ãã ã•ã„ã€

# æ˜ç¤ºçš„ãªæ‰¿èªï¼ˆOKï¼‰
ã€Œæ‰¿èªã—ã¾ã™ã€
ã€Œã¯ã„ã€æ‰¿èªã—ã¾ã™ã€
ã€Œè‰¯ã„ã§ã™ã€‚æ¬¡ã«é€²ã‚“ã§ãã ã•ã„ã€
```

### å•é¡Œ2: ç”Ÿæˆã•ã‚ŒãŸå†…å®¹ãŒæœŸå¾…ã¨ç•°ãªã‚‹

**åŸå› **: æŒ‡ç¤ºãŒä¸æ˜ç¢º

**è§£æ±ºæ–¹æ³•**:
```
# ä¸æ˜ç¢ºãªæŒ‡ç¤º
ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½ã‚’ä½œã‚ŠãŸã„ã€

# æ˜ç¢ºãªæŒ‡ç¤º
ã€Œãƒ¦ãƒ¼ã‚¶ãƒ¼æ©Ÿèƒ½ã®Specã‚’ä½œæˆã—ãŸã„ã§ã™ã€‚

å«ã‚ã‚‹æ©Ÿèƒ½:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ç™»éŒ²ï¼ˆãƒ¡ãƒ¼ãƒ«èªè¨¼ä»˜ãï¼‰
- ãƒ­ã‚°ã‚¤ãƒ³/ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ç·¨é›†
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰å¤‰æ›´

æŠ€è¡“è¦ä»¶:
- JWTèªè¨¼
- PostgreSQLãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹
- RESTful API

ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦ä»¶:
- ãƒ‘ã‚¹ãƒ¯ãƒ¼ãƒ‰ãƒãƒƒã‚·ãƒ¥åŒ–ï¼ˆbcryptï¼‰
- CSRFå¯¾ç­–
- ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã€
```

### å•é¡Œ3: ã‚¿ã‚¹ã‚¯ãŒå¤§ãã™ãã‚‹

**åŸå› **: åˆ†å‰²ãŒä¸ååˆ†

**è§£æ±ºæ–¹æ³•**:
```
ã‚¿ã‚¹ã‚¯2ãŒå¤§ãã™ãã¾ã™ã€‚
ä»¥ä¸‹ã®ã‚ˆã†ã«åˆ†å‰²ã—ã¦ãã ã•ã„ï¼š

- [ ] 2. ãƒ¦ãƒ¼ã‚¶ãƒ¼ç®¡ç†æ©Ÿèƒ½
- [ ] 2.1 ãƒ‡ãƒ¼ã‚¿ãƒ¢ãƒ‡ãƒ«ã®ä½œæˆ
- [ ] 2.2 ãƒªãƒã‚¸ãƒˆãƒªå±¤ã®å®Ÿè£…
- [ ] 2.3 ã‚µãƒ¼ãƒ“ã‚¹å±¤ã®å®Ÿè£…
- [ ] 2.4 ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ©ãƒ¼å±¤ã®å®Ÿè£…
- [ ] 2.5 APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã®å®Ÿè£…
- [ ]* 2.6 ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ä½œæˆ
```

## é«˜åº¦ãªæ´»ç”¨æ–¹æ³•

### 1. æ—¢å­˜Specã®æ›´æ–°

```
æ—¢å­˜ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼Specã‚’æ›´æ–°ã—ãŸã„ã§ã™ã€‚

è¿½åŠ æ©Ÿèƒ½:
- 2è¦ç´ èªè¨¼
- ã‚½ãƒ¼ã‚·ãƒ£ãƒ«ãƒ­ã‚°ã‚¤ãƒ³

requirements.mdã«è¿½åŠ è¦ä»¶ã‚’è¨˜è¼‰ã—ã¦ãã ã•ã„ã€‚
```

### 2. Specã®åˆ†å‰²

```
ç¾åœ¨ã®SpecãŒå¤§ãããªã‚Šã™ãã¾ã—ãŸã€‚
ä»¥ä¸‹ã®ã‚ˆã†ã«åˆ†å‰²ã—ã¦ãã ã•ã„ï¼š

1. user-authentication (èªè¨¼æ©Ÿèƒ½)
2. user-profile (ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«æ©Ÿèƒ½)
3. user-settings (è¨­å®šæ©Ÿèƒ½)

å„Specã«é©åˆ‡ã«è¦ä»¶ã‚’æŒ¯ã‚Šåˆ†ã‘ã¦ãã ã•ã„ã€‚
```

### 3. Specã®çµ±åˆ

```
ä»¥ä¸‹ã®2ã¤ã®Specã‚’çµ±åˆã—ãŸã„ã§ã™ï¼š

- user-management
- user-permissions

çµ±åˆå¾Œã®Specå: user-system

è¦ä»¶ã€è¨­è¨ˆã€ã‚¿ã‚¹ã‚¯ã‚’çµ±åˆã—ã¦ãã ã•ã„ã€‚
```

## ã¾ã¨ã‚

Specsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®åŠ¹æœçš„ãªæ´»ç”¨ã«ã‚ˆã‚Šï¼š

1. **æ˜ç¢ºãªè¦ä»¶**: EARSå½¢å¼ã«ã‚ˆã‚‹å…·ä½“çš„ãªè¦ä»¶å®šç¾©
2. **ä½“ç³»çš„ãªè¨­è¨ˆ**: åŒ…æ‹¬çš„ãªè¨­è¨ˆãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
3. **å®Ÿè£…å¯èƒ½ãªã‚¿ã‚¹ã‚¯**: å°ã•ãç®¡ç†ã—ã‚„ã™ã„ã‚¿ã‚¹ã‚¯åˆ†å‰²
4. **åå¾©çš„æ”¹å–„**: å„æ®µéšã§ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯
5. **å“è³ªä¿è¨¼**: æ®µéšçš„ãªæ¤œè¨¼ã«ã‚ˆã‚‹é«˜å“è³ªãªå®Ÿè£…

> ğŸ’¡ **æˆåŠŸã®éµ**: å„æ®µéšã§æ˜ç¤ºçš„ãªæ‰¿èªã‚’è¡Œã„ã€æ€¥ãŒãšä¸å¯§ã«ãƒ¬ãƒ“ãƒ¥ãƒ¼ã™ã‚‹ã“ã¨ãŒé‡è¦ã§ã™ã€‚

> ğŸ“– **å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: æœ€æ–°ã®æ©Ÿèƒ½ã¨è©³ç´°ã«ã¤ã„ã¦ã¯ [kiro.dev/docs](https://kiro.dev/docs/) ã‚’å‚ç…§ã—ã¦ãã ã•ã„

---

## ğŸ“š é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

- [ğŸ  ç›®æ¬¡](../../README.md)
- [ğŸ“– KiroåŸºç¤è§£èª¬](../chapter1/kiro-introduction.md)
- [ğŸ® ãƒ†ãƒˆãƒªã‚¹ä½œæˆãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«](../chapter1/tetris-tutorial.md)
- [ğŸš€ æœ¬æ ¼çš„ãªã‚¢ãƒ—ãƒªé–‹ç™º](../chapter2/design-review-implementation.md)
- [ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](../troubleshooting/common-issues.md)
