# Hookså®Œå…¨ã‚¬ã‚¤ãƒ‰

## æ¦‚è¦

**Kiro Hooks**ã¯ã€ç‰¹å®šã®ã‚¤ãƒ™ãƒ³ãƒˆãŒç™ºç”Ÿã—ãŸéš›ã«è‡ªå‹•çš„ã«ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè¡Œã‚’é–‹å§‹ã™ã‚‹æ©Ÿèƒ½ã§ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã®ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã€ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ™‚ã®ä»–è¨€èªåŒæœŸãªã©ã€é–‹ç™ºãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’è‡ªå‹•åŒ–ã§ãã¾ã™ã€‚

## Hooksã®åŸºæœ¬æ¦‚å¿µ

### Hooksã¨ã¯

Hooksã¯ã€ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¤ãƒ™ãƒ³ãƒˆã‚’ãƒˆãƒªã‚¬ãƒ¼ã¨ã—ã¦ã€Kiroã®ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè¡Œã‚’è‡ªå‹•çš„ã«é–‹å§‹ã™ã‚‹ä»•çµ„ã¿ã§ã™ï¼š

- **ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚**: ã‚³ãƒ¼ãƒ‰ã‚’ä¿å­˜ã—ãŸã‚¿ã‚¤ãƒŸãƒ³ã‚°
- **æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼**: ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ã‚„ã‚³ãƒãƒ³ãƒ‰å®Ÿè¡Œ
- **ãã®ä»–ã®ã‚¤ãƒ™ãƒ³ãƒˆ**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå›ºæœ‰ã®ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ

### ä¸»ãªç”¨é€”

```mermaid
graph LR
    A[ã‚¤ãƒ™ãƒ³ãƒˆç™ºç”Ÿ] --> B[Hook ãƒˆãƒªã‚¬ãƒ¼]
    B --> C[ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆå®Ÿè¡Œ]
    C --> D[çµæœé€šçŸ¥]
    
    E[ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜] --> B
    F[ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯] --> B
    G[ã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆ] --> B
    
    style B fill:#ff9800
    style C fill:#4caf50
```

**æ´»ç”¨ä¾‹ï¼š**
- ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ã«ãƒ†ã‚¹ãƒˆã‚’è‡ªå‹•å®Ÿè¡Œ
- ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«æ›´æ–°æ™‚ã«ä»–è¨€èªã‚‚è‡ªå‹•æ›´æ–°
- æ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼ã§READMEã®ã‚¹ãƒšãƒ«ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
- ã‚³ãƒŸãƒƒãƒˆå‰ã«ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯

## Hooksã®è¨­å®šæ–¹æ³•

### æ–¹æ³•1: ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ãƒ“ãƒ¥ãƒ¼ã‹ã‚‰è¨­å®š

1. **Agent Hooksã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’é–‹ã**
   - Kiroã®ã‚¨ã‚¯ã‚¹ãƒ—ãƒ­ãƒ¼ãƒ©ãƒ¼ãƒ“ãƒ¥ãƒ¼ã§ã€ŒAgent Hooksã€ã‚»ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ¢ã™
   - æ—¢å­˜ã®HooksãŒä¸€è¦§è¡¨ç¤ºã•ã‚Œã‚‹

2. **æ–°ã—ã„Hookã‚’ä½œæˆ**
   - ã€Œ+ã€ãƒœã‚¿ãƒ³ã¾ãŸã¯ã€ŒCreate Hookã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - Hookè¨­å®šç”»é¢ãŒé–‹ã

3. **Hookè¨­å®šã‚’å…¥åŠ›**
   - Hookå
   - ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶
   - å®Ÿè¡Œã™ã‚‹ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ
   - å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³

### æ–¹æ³•2: ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã‹ã‚‰è¨­å®š

1. **ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã‚’é–‹ã**
   - macOS: `Cmd + Shift + P`
   - Windows/Linux: `Ctrl + Shift + P`

2. **ã€ŒOpen Kiro Hook UIã€ã‚’æ¤œç´¢**
   - ã‚³ãƒãƒ³ãƒ‰ãƒ‘ãƒ¬ãƒƒãƒˆã«ã€ŒMCPã€ã¾ãŸã¯ã€ŒHookã€ã¨å…¥åŠ›
   - ã€ŒOpen Kiro Hook UIã€ã‚’é¸æŠ

3. **Hook UIã§è¨­å®š**
   - ãƒ“ã‚¸ãƒ¥ã‚¢ãƒ«ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã§Hookã‚’è¨­å®š

## Hookè¨­å®šã®è©³ç´°

### åŸºæœ¬è¨­å®šé …ç›®

```yaml
# Hookè¨­å®šã®ä¾‹
name: "Run Tests on Save"
trigger: "onSave"
filePattern: "src/**/*.{ts,tsx}"
prompt: |
  å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
  
  å®Ÿè¡Œæ‰‹é †:
  1. å¤‰æ›´ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç‰¹å®š
  2. é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¤œç´¢
  3. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
  4. çµæœã‚’ã‚µãƒãƒªãƒ¼è¡¨ç¤º
enabled: true
```

### ãƒˆãƒªã‚¬ãƒ¼ã‚¿ã‚¤ãƒ—

#### 1. onSaveï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚ï¼‰

```yaml
name: "Auto Test on Save"
trigger: "onSave"
filePattern: "src/**/*.ts"
prompt: |
  ä¿å­˜ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
```

**ä½¿ç”¨ä¾‹ï¼š**
- ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®è‡ªå‹•å®Ÿè¡Œ
- ãƒªãƒ³ãƒˆãƒã‚§ãƒƒã‚¯
- å‹ãƒã‚§ãƒƒã‚¯
- ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆç¢ºèª

#### 2. manualï¼ˆæ‰‹å‹•ãƒˆãƒªã‚¬ãƒ¼ï¼‰

```yaml
name: "Spell Check README"
trigger: "manual"
filePattern: "README.md"
prompt: |
  README.mdã®ã‚¹ãƒšãƒ«ãƒã‚§ãƒƒã‚¯ã¨æ–‡æ³•ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
  
  ç¢ºèªé …ç›®:
  - ã‚¹ãƒšãƒ«ãƒŸã‚¹
  - æ–‡æ³•ã‚¨ãƒ©ãƒ¼
  - ãƒªãƒ³ã‚¯åˆ‡ã‚Œ
  - ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã®ä¸€è²«æ€§
```

**ä½¿ç”¨ä¾‹ï¼š**
- ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ãƒ¬ãƒ“ãƒ¥ãƒ¼
- ã‚³ãƒ¼ãƒ‰å“è³ªã®ç·åˆãƒã‚§ãƒƒã‚¯
- ãƒ‡ãƒ—ãƒ­ã‚¤å‰ã®æœ€çµ‚ç¢ºèª
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹åˆ†æ

#### 3. customï¼ˆã‚«ã‚¹ã‚¿ãƒ ã‚¤ãƒ™ãƒ³ãƒˆï¼‰

```yaml
name: "Update Translations"
trigger: "custom"
event: "translationUpdate"
filePattern: "locales/en/**/*.json"
prompt: |
  è‹±èªã®ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸã€‚
  ä»–ã®è¨€èªã®ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚æ›´æ–°ã—ã¦ãã ã•ã„ã€‚
  
  å¯¾è±¡è¨€èª: ja, zh, ko, fr, de
```

### ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¿ãƒ¼ãƒ³

```yaml
# ç‰¹å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
filePattern: "src/components/**/*.tsx"

# è¤‡æ•°ã®æ‹¡å¼µå­
filePattern: "src/**/*.{ts,tsx,js,jsx}"

# ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«å
filePattern: "**/package.json"

# é™¤å¤–ãƒ‘ã‚¿ãƒ¼ãƒ³
filePattern: "src/**/*.ts"
excludePattern: "**/*.test.ts"

# ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®ãƒ•ã‚¡ã‚¤ãƒ«
filePattern: "*.md"
```

## å®Ÿè·µçš„ãªHookä¾‹

### ä¾‹1: ãƒ†ã‚¹ãƒˆè‡ªå‹•å®Ÿè¡ŒHook

```yaml
name: "Auto Run Tests"
trigger: "onSave"
filePattern: "src/**/*.{ts,tsx}"
excludePattern: "**/*.test.{ts,tsx}"
prompt: |
  #File {savedFile}
  
  ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
  
  æ‰‹é †:
  1. å¯¾å¿œã™ã‚‹ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ã™
  2. ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
  3. å¤±æ•—ã—ãŸãƒ†ã‚¹ãƒˆãŒã‚ã‚Œã°è©³ç´°ã‚’è¡¨ç¤º
  4. ã‚«ãƒãƒ¬ãƒƒã‚¸æƒ…å ±ã‚’è¡¨ç¤º
  
  ãƒ†ã‚¹ãƒˆã‚³ãƒãƒ³ãƒ‰: npm test -- {testFile}
enabled: true
```

**å‹•ä½œ:**
1. `src/utils/validator.ts`ã‚’ä¿å­˜
2. HookãŒè‡ªå‹•çš„ã«ãƒˆãƒªã‚¬ãƒ¼
3. `src/utils/validator.test.ts`ã‚’å®Ÿè¡Œ
4. çµæœã‚’é€šçŸ¥

### ä¾‹2: ç¿»è¨³åŒæœŸHook

```yaml
name: "Sync Translations"
trigger: "onSave"
filePattern: "locales/en/**/*.json"
prompt: |
  #File {savedFile}
  
  è‹±èªã®ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸã€‚
  ä»–ã®è¨€èªã®ç¿»è¨³ãƒ•ã‚¡ã‚¤ãƒ«ã‚‚åŒæœŸã—ã¦ãã ã•ã„ã€‚
  
  å¯¾è±¡è¨€èª:
  - æ—¥æœ¬èª (ja)
  - ä¸­å›½èª (zh)
  - éŸ“å›½èª (ko)
  
  æ‰‹é †:
  1. å¤‰æ›´ã•ã‚ŒãŸã‚­ãƒ¼ã‚’ç‰¹å®š
  2. å„è¨€èªã®å¯¾å¿œã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›´æ–°
  3. ç¿»è¨³ãŒå¿…è¦ãªæ–°ã—ã„ã‚­ãƒ¼ã‚’ãƒãƒ¼ã‚¯
  4. å¤‰æ›´ã‚µãƒãƒªãƒ¼ã‚’è¡¨ç¤º
enabled: true
```

### ä¾‹3: ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯Hook

```yaml
name: "Code Quality Check"
trigger: "manual"
filePattern: "src/**/*.{ts,tsx}"
prompt: |
  #Folder src/
  #Problems
  
  ã‚³ãƒ¼ãƒ‰å“è³ªã®ç·åˆãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
  
  ãƒã‚§ãƒƒã‚¯é …ç›®:
  1. ESLintè­¦å‘Šã®ç¢ºèª
  2. TypeScriptå‹ã‚¨ãƒ©ãƒ¼ã®ç¢ºèª
  3. è¤‡é›‘åº¦ã®é«˜ã„é–¢æ•°ã®ç‰¹å®š
  4. é‡è¤‡ã‚³ãƒ¼ãƒ‰ã®æ¤œå‡º
  5. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã®ã‚¹ã‚­ãƒ£ãƒ³
  
  å„é …ç›®ã«ã¤ã„ã¦:
  - å•é¡Œã®æ•°
  - é‡è¦åº¦
  - ä¿®æ­£ææ¡ˆ
  
  ã‚’å ±å‘Šã—ã¦ãã ã•ã„ã€‚
enabled: true
```

### ä¾‹4: ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°Hook

```yaml
name: "Update API Docs"
trigger: "onSave"
filePattern: "src/api/**/*.ts"
prompt: |
  #File {savedFile}
  
  APIã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆãŒå¤‰æ›´ã•ã‚Œã¾ã—ãŸã€‚
  ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã‚’æ›´æ–°ã—ã¦ãã ã•ã„ã€‚
  
  æ›´æ–°å¯¾è±¡:
  1. docs/api/endpoints.md
  2. openapi.yaml
  3. README.md (å¿…è¦ã«å¿œã˜ã¦)
  
  æ‰‹é †:
  1. å¤‰æ›´ã•ã‚ŒãŸã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆã‚’ç‰¹å®š
  2. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®è©²å½“ç®‡æ‰€ã‚’æ›´æ–°
  3. ä¾‹ç¤ºã‚³ãƒ¼ãƒ‰ã‚’æ›´æ–°
  4. å¤‰æ›´å±¥æ­´ã«è¨˜éŒ²
enabled: true
```

### ä¾‹5: Git ã‚³ãƒŸãƒƒãƒˆå‰ãƒã‚§ãƒƒã‚¯Hook

```yaml
name: "Pre-commit Check"
trigger: "manual"
filePattern: "**/*"
prompt: |
  #Git Diff
  
  ã‚³ãƒŸãƒƒãƒˆå‰ã®æœ€çµ‚ãƒã‚§ãƒƒã‚¯ã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
  
  ãƒã‚§ãƒƒã‚¯é …ç›®:
  1. å…¨ã¦ã®ãƒ†ã‚¹ãƒˆãŒé€šéã—ã¦ã„ã‚‹ã‹
  2. ãƒªãƒ³ãƒˆè­¦å‘ŠãŒãªã„ã‹
  3. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ãŒæ®‹ã£ã¦ã„ãªã„ã‹
  4. TODOã‚³ãƒ¡ãƒ³ãƒˆãŒè¿½åŠ ã•ã‚Œã¦ã„ãªã„ã‹
  5. æ©Ÿå¯†æƒ…å ±ãŒå«ã¾ã‚Œã¦ã„ãªã„ã‹
  
  å•é¡ŒãŒã‚ã‚Œã°è©³ç´°ã‚’å ±å‘Šã—ã€
  å•é¡Œãªã‘ã‚Œã°ã‚³ãƒŸãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®ææ¡ˆã‚’ã—ã¦ãã ã•ã„ã€‚
enabled: true
```

## Hookå®Ÿè¡Œã®åˆ¶å¾¡

### æœ‰åŠ¹/ç„¡åŠ¹ã®åˆ‡ã‚Šæ›¿ãˆ

```yaml
# Hookã‚’ç„¡åŠ¹åŒ–
enabled: false

# Hookã‚’æœ‰åŠ¹åŒ–
enabled: true
```

### æ¡ä»¶ä»˜ãå®Ÿè¡Œ

```yaml
name: "Conditional Test"
trigger: "onSave"
filePattern: "src/**/*.ts"
prompt: |
  #File {savedFile}
  
  IF ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºãŒ100è¡Œä»¥ä¸Š THEN
    å®Œå…¨ãªãƒ†ã‚¹ãƒˆã‚¹ã‚¤ãƒ¼ãƒˆã‚’å®Ÿè¡Œ
  ELSE
    ã‚¯ã‚¤ãƒƒã‚¯ãƒ†ã‚¹ãƒˆã®ã¿å®Ÿè¡Œ
  END IF
enabled: true
```

### å®Ÿè¡Œé »åº¦ã®åˆ¶é™

```yaml
name: "Rate Limited Hook"
trigger: "onSave"
filePattern: "src/**/*.ts"
throttle: 5000  # 5ç§’é–“ã«1å›ã¾ã§
prompt: |
  ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
enabled: true
```

## Hookå¤‰æ•°ã®æ´»ç”¨

### åˆ©ç”¨å¯èƒ½ãªå¤‰æ•°

```yaml
prompt: |
  # ãƒ•ã‚¡ã‚¤ãƒ«é–¢é€£
  {savedFile}      # ä¿å­˜ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ã‚¹
  {fileName}       # ãƒ•ã‚¡ã‚¤ãƒ«åã®ã¿
  {fileDir}        # ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª
  {fileExt}        # ãƒ•ã‚¡ã‚¤ãƒ«ã®æ‹¡å¼µå­
  
  # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–¢é€£
  {workspaceRoot}  # ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ã®ãƒ«ãƒ¼ãƒˆãƒ‘ã‚¹
  {projectName}    # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå
  
  # Gité–¢é€£
  {gitBranch}      # ç¾åœ¨ã®ãƒ–ãƒ©ãƒ³ãƒå
  {gitCommit}      # æœ€æ–°ã®ã‚³ãƒŸãƒƒãƒˆãƒãƒƒã‚·ãƒ¥
  
  # æ™‚åˆ»é–¢é€£
  {timestamp}      # ç¾åœ¨ã®ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—
  {date}           # ç¾åœ¨ã®æ—¥ä»˜
```

### å¤‰æ•°ã®ä½¿ç”¨ä¾‹

```yaml
name: "Smart Test Runner"
trigger: "onSave"
filePattern: "src/**/*.ts"
prompt: |
  ä¿å­˜ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«: {savedFile}
  ãƒ•ã‚¡ã‚¤ãƒ«å: {fileName}
  ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª: {fileDir}
  
  #File {savedFile}
  
  ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
  ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«: {fileDir}/{fileName}.test.ts
enabled: true
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### å•é¡Œ1: HookãŒå®Ÿè¡Œã•ã‚Œãªã„

**ç¢ºèªé …ç›®:**

```yaml
# 1. enabledãŒtrueã‹ç¢ºèª
enabled: true

# 2. filePatternãŒæ­£ã—ã„ã‹ç¢ºèª
filePattern: "src/**/*.ts"  # æ­£ã—ã„
filePattern: src/**/*.ts    # é–“é•ã„ï¼ˆã‚¯ã‚©ãƒ¼ãƒˆãŒå¿…è¦ï¼‰

# 3. ãƒˆãƒªã‚¬ãƒ¼æ¡ä»¶ãŒé©åˆ‡ã‹ç¢ºèª
trigger: "onSave"  # ãƒ•ã‚¡ã‚¤ãƒ«ä¿å­˜æ™‚
trigger: "manual"  # æ‰‹å‹•å®Ÿè¡Œã®ã¿
```

**ãƒ‡ãƒãƒƒã‚°æ–¹æ³•:**

```yaml
name: "Debug Hook"
trigger: "onSave"
filePattern: "**/*"  # å…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§è©¦ã™
prompt: |
  Hook ãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸï¼
  
  ãƒ•ã‚¡ã‚¤ãƒ«: {savedFile}
  æ™‚åˆ»: {timestamp}
enabled: true
```

### å•é¡Œ2: Hookå®Ÿè¡ŒãŒé…ã„

**åŸå› ã¨å¯¾ç­–:**

```yaml
# åŸå› 1: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆãŒè¤‡é›‘ã™ãã‚‹
# å¯¾ç­–: ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’ç°¡æ½”ã«ã™ã‚‹

# åŸå› 2: å¯¾è±¡ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¤šã™ãã‚‹
# å¯¾ç­–: filePatternã‚’é™å®šã™ã‚‹
filePattern: "src/components/**/*.tsx"  # é™å®šçš„
# filePattern: "**/*"  # åºƒã™ãã‚‹

# åŸå› 3: é »ç¹ã«å®Ÿè¡Œã•ã‚Œã™ãã‚‹
# å¯¾ç­–: throttleã‚’è¨­å®š
throttle: 3000  # 3ç§’é–“ã«1å›ã¾ã§
```

### å•é¡Œ3: Hookå®Ÿè¡ŒçµæœãŒæœŸå¾…ã¨ç•°ãªã‚‹

**ãƒ‡ãƒãƒƒã‚°ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ:**

```yaml
name: "Debug Execution"
trigger: "onSave"
filePattern: "src/**/*.ts"
prompt: |
  ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã‚’è¡¨ç¤ºã—ã¦ãã ã•ã„:
  
  1. ä¿å­˜ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«: {savedFile}
  2. ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã®æœ€åˆã®10è¡Œ
  3. é–¢é€£ã™ã‚‹ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã®æœ‰ç„¡
  4. ç¾åœ¨ã®Gitãƒ–ãƒ©ãƒ³ãƒ: {gitBranch}
  5. ãƒ¯ãƒ¼ã‚¯ã‚¹ãƒšãƒ¼ã‚¹ãƒ«ãƒ¼ãƒˆ: {workspaceRoot}
enabled: true
```

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. æ˜ç¢ºãªå‘½å

```yaml
# è‰¯ã„ä¾‹
name: "Run Unit Tests on Save"
name: "Update Translation Files"
name: "Pre-commit Quality Check"

# æ‚ªã„ä¾‹
name: "Hook1"
name: "Test"
name: "Do Something"
```

### 2. å…·ä½“çš„ãªãƒ—ãƒ­ãƒ³ãƒ—ãƒˆ

```yaml
# è‰¯ã„ä¾‹
prompt: |
  #File {savedFile}
  
  ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
  
  æ‰‹é †:
  1. å¯¾å¿œã™ã‚‹ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ã™
  2. npm test -- {testFile} ã‚’å®Ÿè¡Œ
  3. çµæœã‚’ã‚µãƒãƒªãƒ¼è¡¨ç¤º
  4. å¤±æ•—ãŒã‚ã‚Œã°è©³ç´°ã‚’è¡¨ç¤º

# æ‚ªã„ä¾‹
prompt: "ãƒ†ã‚¹ãƒˆã—ã¦"
```

### 3. é©åˆ‡ãªã‚¹ã‚³ãƒ¼ãƒ—

```yaml
# è‰¯ã„ä¾‹: ç‰¹å®šã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é™å®š
filePattern: "src/components/**/*.tsx"

# æ‚ªã„ä¾‹: ç¯„å›²ãŒåºƒã™ãã‚‹
filePattern: "**/*"
```

### 4. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```yaml
prompt: |
  #File {savedFile}
  
  ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚
  
  ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°:
  - ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚‰ãªã„å ´åˆ: è­¦å‘Šã‚’è¡¨ç¤º
  - ãƒ†ã‚¹ãƒˆãŒå¤±æ•—ã—ãŸå ´åˆ: è©³ç´°ãªã‚¨ãƒ©ãƒ¼æƒ…å ±ã‚’è¡¨ç¤º
  - ã‚¿ã‚¤ãƒ ã‚¢ã‚¦ãƒˆã—ãŸå ´åˆ: å®Ÿè¡Œã‚’ä¸­æ–­ã—ã¦é€šçŸ¥
```

## é«˜åº¦ãªæ´»ç”¨ä¾‹

### ãƒãƒ¼ãƒ é–‹ç™ºã§ã®æ´»ç”¨

```yaml
# .kiro/hooks/team-hooks.yml
hooks:
  - name: "Code Review Helper"
    trigger: "manual"
    filePattern: "**/*"
    prompt: |
      #Git Diff
      
      ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®æº–å‚™ã‚’ã—ã¦ãã ã•ã„:
      
      1. å¤‰æ›´ã‚µãƒãƒªãƒ¼ã®ä½œæˆ
      2. æ½œåœ¨çš„ãªå•é¡Œã®æŒ‡æ‘˜
      3. ãƒ†ã‚¹ãƒˆã‚«ãƒãƒ¬ãƒƒã‚¸ã®ç¢ºèª
      4. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆæ›´æ–°ã®å¿…è¦æ€§ãƒã‚§ãƒƒã‚¯
      5. PRãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ç”Ÿæˆ
    enabled: true
  
  - name: "Onboarding Helper"
    trigger: "manual"
    filePattern: "**/*"
    prompt: |
      #Codebase
      
      æ–°ãƒ¡ãƒ³ãƒãƒ¼å‘ã‘ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜ã‚’ç”Ÿæˆã—ã¦ãã ã•ã„:
      
      1. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ ã®èª¬æ˜
      2. ä¸»è¦ãªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®è§£èª¬
      3. é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †
      4. ã‚ˆãä½¿ã†ã‚³ãƒãƒ³ãƒ‰ã®ä¸€è¦§
      5. ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°è¦ç´„ã®ã‚µãƒãƒªãƒ¼
    enabled: true
```

## ã¾ã¨ã‚

Kiro Hooksã®åŠ¹æœçš„ãªæ´»ç”¨ã«ã‚ˆã‚Šï¼š

1. **é–‹ç™ºåŠ¹ç‡ã®å‘ä¸Š**: åå¾©ä½œæ¥­ã®è‡ªå‹•åŒ–
2. **å“è³ªã®ä¿è¨¼**: è‡ªå‹•ãƒ†ã‚¹ãƒˆã¨ãƒã‚§ãƒƒã‚¯
3. **ä¸€è²«æ€§ã®ç¶­æŒ**: æ¨™æº–åŒ–ã•ã‚ŒãŸãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼
4. **ãƒãƒ¼ãƒ å”åƒã®ä¿ƒé€²**: å…±é€šã®Hooksè¨­å®š

> ğŸ’¡ **æ¨å¥¨ã‚¢ãƒ—ãƒ­ãƒ¼ãƒ**: ã‚·ãƒ³ãƒ—ãƒ«ãªHookã‹ã‚‰å§‹ã‚ã¦ã€å¾ã€…ã«é«˜åº¦ãªè‡ªå‹•åŒ–ã‚’è¿½åŠ ã—ã¦ã„ãã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚

> ğŸ“– **å…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: æœ€æ–°ã®æ©Ÿèƒ½ã¨è©³ç´°ã«ã¤ã„ã¦ã¯ [kiro.dev/docs](https://kiro.dev/docs/) ã‚’å‚ç…§ã—ã¦ãã ã•ã„

---

## ğŸ“š é–¢é€£ãƒªã‚½ãƒ¼ã‚¹

- [ğŸ  ç›®æ¬¡](../../README.md)
- [ğŸ“– KiroåŸºç¤è§£èª¬](../chapter1/kiro-introduction.md)
- [ğŸ’» å®Ÿè£…ãƒ»ãƒ†ã‚¹ãƒˆãƒ»è‡ªå‹•åŒ–](../chapter2/implementation-testing.md)
- [ğŸ› ï¸ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°](../troubleshooting/common-issues.md)
